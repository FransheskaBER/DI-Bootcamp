<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="roboFriends.css">
    <link href="https://fonts.cdnfonts.com/css/sega-logo-font" rel="stylesheet">
                
</head>
<body>
    <header>
        <div class="logo">ROBOFRIENDS</div>
        <div class="searchBar">
            <input type="text" placeholder="Search Robots">
        </div>
    </header>
    <main>
        <div class="cardContainer"></div>
        </div>
    </main>

    <script src="roboFriendsSearch.js">

    // Mini-Project - Robo-Friends Search

    // What you will learn
    // Array and Object methods
    // Array and Object destructuring
    // Functions and arrow functions
    // DOM tree

    // What you will create
    // A Robo-Friends Search with Advanced Javascript

    // In this project you will have to create a robot website (you can use your own css to style your project):
    
    // Instructions
    // PART I : The website
    // 1. The webpage displays Cards of Robots with their respective image and information.
    // 2. You have to create the cards by using the values from the array of objects provided in the ASSETS below.

    const robots = [
        {
            id: 1,
            name: 'Leanne Graham',
            username: 'Bret',
            email: 'Sincere@april.biz',
            image: 'https://robohash.org/1?200x200'
          },
          {
            id: 2,
            name: 'Ervin Howell',
            username: 'Antonette',
            email: 'Shanna@melissa.tv',
            image: 'https://robohash.org/2?200x200'
          },
          {
            id: 3,
            name: 'Clementine Bauch',
            username: 'Samantha',
            email: 'Nathan@yesenia.net',
            image: 'https://robohash.org/3?200x200'
          },
          {
            id: 4,
            name: 'Patricia Lebsack',
            username: 'Karianne',
            email: 'Julianne.OConner@kory.org',
            image: 'https://robohash.org/4?200x200'
          },
          {
            id: 5,
            name: 'Chelsey Dietrich',
            username: 'Kamren',
            email: 'Lucio_Hettinger@annie.ca',
            image: 'https://robohash.org/5?200x200'
          },
          {
            id: 6,
            name: 'Mrs. Dennis Schulist',
            username: 'Leopoldo_Corkery',
            email: 'Karley_Dach@jasper.info',
            image: 'https://robohash.org/6?200x200'
          },
          {
            id: 7,
            name: 'Kurtis Weissnat',
            username: 'Elwyn.Skiles',
            email: 'Telly.Hoeger@billy.biz',
            image: 'https://robohash.org/7?200x200'
          },
          {
            id: 8,
            name: 'Nicholas Runolfsdottir V',
            username: 'Maxime_Nienow',
            email: 'Sherwood@rosamond.me',
            image: 'https://robohash.org/8?200x200'
          },
          {
            id: 9,
            name: 'Glenna Reichert',
            username: 'Delphine',
            email: 'Chaim_McDermott@dana.io',
            image:'https://robohash.org/9?200x200'
          },
          {
            id: 10,
            name: 'Clementina DuBuque',
            username: 'Moriah.Stanton',
            email: 'Rey.Padberg@karina.biz',
            image:'https://robohash.org/10?200x200'
          }
          ];

    let cardContainer = document.querySelector(".cardContainer");
    
    robots.forEach(robot => {
        let card = document.createElement("div");
        card.classList.add("card");

        let img = document.createElement("img");
        img.src = robot.image;
        let h2 = document.createElement("h2");
        h2.textContent = robot.name;
        let h3 = document.createElement("h3");
        h3.textContent = robot.username;
        let p = document.createElement("p");
        p.textContent = robot.email;

        card.appendChild(img);
        card.appendChild(h2);
        card.appendChild(h3);
        card.appendChild(p);

        cardContainer.appendChild(card);
    });

    // PART II : The filter
    // 1. When you search for a specific name in the search box, the webpage filters the cards displayed. For example is you write “nic”
    // in the search box, you will display the robot which name contains “nic”, which means only one robot: “Nicholas”.
    // 2. Display the cards in the DOM, using DOM elements and selectors, and filter them with the search box.

    let input = document.querySelector(".searchBar input");
    let card = document.querySelectorAll(".card");

    function SearchRobot(event){
        let searchText = event.target.value.toLowerCase();

        robots.forEach((robot, index) => {
            let nameMatch = robot.name.toLowerCase().includes(searchText);
            let usernameMatch = robot.username.toLowerCase().includes(searchText);
            let emailMatch = robot.email.toLowerCase().includes(searchText);

            nameMatch || usernameMatch || emailMatch ? card[index].style.display = "block" : card[index].style.display = "none";
        })
    };

    input.addEventListener("input", SearchRobot);

    </script>
</body>
</html>